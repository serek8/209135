\hypertarget{main_8cpp}{\subsection{main.\-cpp}
\label{main_8cpp}\index{main.\-cpp@{main.\-cpp}}
}

\begin{DoxyCode}
00001 \textcolor{comment}{/*}
00002 \textcolor{comment}{ * main.cpp}
00003 \textcolor{comment}{ *}
00004 \textcolor{comment}{ *  Created on: Mar 6, 2015}
00005 \textcolor{comment}{ *      Author: serek8}
00006 \textcolor{comment}{ */}
00008 \textcolor{preprocessor}{#include <iostream>}
00009 \textcolor{preprocessor}{#include <unistd.h>}
00010 \textcolor{preprocessor}{#include "\hyperlink{numbergenerator_8h}{numbergenerator.h}"}
00011 \textcolor{preprocessor}{#include "\hyperlink{linkedlist_8h}{linkedlist.h}"}
00012 \textcolor{preprocessor}{#include "\hyperlink{mybenchmark_8h}{mybenchmark.h}"}
00013 \textcolor{preprocessor}{#include "\hyperlink{observable_8h}{observable.h}"}
00014 \textcolor{preprocessor}{#include "\hyperlink{observer_8h}{observer.h}"}
00015 \textcolor{preprocessor}{#include "\hyperlink{observableheapsorter_8h}{observableheapsorter.h}"}
00016 \textcolor{preprocessor}{#include "\hyperlink{observablequicksorter_8h}{observablequicksorter.h}"}
00017 \textcolor{preprocessor}{#include "\hyperlink{observablemergesorter_8h}{observablemergesorter.h}"}
00018 \textcolor{preprocessor}{#include "\hyperlink{filestreamer_8h}{filestreamer.h}"}
00019 
\hypertarget{main_8cpp_source_l00020}{}\hyperlink{main_8cpp_a1e1ad0a49252a8ba7ee63e4d476c06b9}{00020} \textcolor{preprocessor}{#define ILOSC\_LICZB\_DO\_SORTOWANIA 1}
00021 \textcolor{preprocessor}{}
\hypertarget{main_8cpp_source_l00022}{}\hyperlink{main_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{00022} \textcolor{keywordtype}{int} \hyperlink{main_8cpp_a0ddf1224851353fc92bfbff6f499fa97}{main}(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char} *argv[])
00023 \{
00024         \hyperlink{class_linked_list}{LinkedList<int>} lista;
00025         \textcolor{comment}{//int isSetN = 0;}
00026         \textcolor{keywordtype}{int} opt;        
00027         \textcolor{keywordflow}{while} ((opt = getopt(argc, argv, \textcolor{stringliteral}{"n:o:i:gx"})) != -1) \{
00028                 \textcolor{keywordflow}{switch}(opt)\{
00029                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'n'}:       \textcolor{comment}{// ilosc liczb do przetworzenia}
00030                         lista = NumberGenerator::generateNumbers<int>(10000000, atoi(optarg));
00031                         \textcolor{comment}{//isSetN = 1;}
00032                         \textcolor{keywordflow}{break};
00033 
00034                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'o'}:
00035                         \textcolor{comment}{//podstawoweInfoIO.outputFileName = optarg;}
00036                         \textcolor{keywordflow}{break};
00037 
00038                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'i'}:
00039                         \textcolor{comment}{//podstawoweInfoIO.inputFileName=optarg;}
00040                         \textcolor{keywordflow}{break};
00041 
00042                 \textcolor{keywordflow}{case} \textcolor{charliteral}{'?'}:       \textcolor{keywordflow}{default}:
00043                         std::cout<<\textcolor{stringliteral}{"\(\backslash\)nPodano zly argument"};
00044                         \textcolor{keywordflow}{return} -1;
00045                 \}
00046         \}
00047         \textcolor{comment}{//if(!isSetN) \{std::cerr<<"\(\backslash\)nNie podano argumentu: -n X\(\backslash\)n"; return -1;\}}
00048 
00049 
00050                 std::cout<<\textcolor{stringliteral}{"\(\backslash\)n -> Prosze czekac trwa sortowanie\(\backslash\)n"};
00051 
00052                 \hyperlink{filestreamer_8h_ac9fbd480fa2b14ca0bab9d162bb2b0a0}{clearFile}(\textcolor{stringliteral}{"log.txt"});
00053                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, \textcolor{stringliteral}{"Ilosc\(\backslash\)t"});
00054                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, \textcolor{stringliteral}{"HeapS.\(\backslash\)t"});
00055                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, \textcolor{stringliteral}{"QuickS.\(\backslash\)t"});
00056                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, \textcolor{stringliteral}{"MergeS.\(\backslash\)n"});
00057                 \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i=\hyperlink{main_8cpp_a1e1ad0a49252a8ba7ee63e4d476c06b9}{ILOSC\_LICZB\_DO\_SORTOWANIA}; i<
      \hyperlink{main_8cpp_a1e1ad0a49252a8ba7ee63e4d476c06b9}{ILOSC\_LICZB\_DO\_SORTOWANIA}*10; i+=
      \hyperlink{main_8cpp_a1e1ad0a49252a8ba7ee63e4d476c06b9}{ILOSC\_LICZB\_DO\_SORTOWANIA})
00058                 \{
00059                         lista.\hyperlink{class_list_a5c203187cbe44bdae313494542140a33}{free}();
00060                         lista = NumberGenerator::generateNumbers<int>(10000000, i);
00061                 \hyperlink{class_my_benchmark_observer}{MyBenchmarkObserver} *o1 = \textcolor{keyword}{new} 
      \hyperlink{class_my_benchmark_observer}{MyBenchmarkObserver}();
00062                 \hyperlink{class_observable_heap_sorter}{ObservableHeapSorter<int>} heapSorter(lista);
00063                 \hyperlink{class_observable_quick_sorter}{ObservableQuickSorter<int>} quickSorter(lista);
00064                 \hyperlink{class_observable_merge_sorter}{ObservableMergeSorter<int>} mergeSorter(lista);
00065                 heapSorter.\hyperlink{class_observable_a18e7700c59126dbeb97d24844c6ed131}{add}(o1);
00066                 quickSorter.\hyperlink{class_observable_a18e7700c59126dbeb97d24844c6ed131}{add}(o1);
00067                 mergeSorter.\hyperlink{class_observable_a18e7700c59126dbeb97d24844c6ed131}{add}(o1);
00068 
00069 
00070                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, i);
00071                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, \textcolor{stringliteral}{"\(\backslash\)t"});
00072 
00073                 heapSorter.\hyperlink{class_observable_heap_sorter_aa56ec2ca7bd6498f0a0085946c464f36}{sort}();
00074                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, heapSorter.
      \hyperlink{class_observable_af5af34ef633e707ca1525415ee963b91}{observaters}[0]->getTimerValue());
00075                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, \textcolor{stringliteral}{"\(\backslash\)t"});
00076                 heapSorter.\hyperlink{class_heap_sorter_ae5061b641a597893a2e7f747c9cc15f2}{list}.free();
00077 
00078                 quickSorter.\hyperlink{class_observable_quick_sorter_aef09bb6859fc79d85de104a4eddfa348}{sort}();
00079                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, quickSorter.
      \hyperlink{class_observable_af5af34ef633e707ca1525415ee963b91}{observaters}[0]->getTimerValue());
00080                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, \textcolor{stringliteral}{"\(\backslash\)t"});
00081                 quickSorter.\hyperlink{class_quick_sorter_a66cd768b6d8a77952f004be7aad87a0e}{list}.free();
00082 
00083                 mergeSorter.\hyperlink{class_observable_merge_sorter_adc1960b58289c829ca9c77b7b6bc306f}{sort}();
00084                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, mergeSorter.
      \hyperlink{class_observable_af5af34ef633e707ca1525415ee963b91}{observaters}[0]->getTimerValue());
00085                 \hyperlink{filestreamer_8h_a4b207a639eee81d20e9f96624a9a6c0a}{writeStringToFile}(\textcolor{stringliteral}{"log.txt"}, \textcolor{stringliteral}{"\(\backslash\)n"});
00086                 mergeSorter.\hyperlink{class_merge_sorter_a2fdeadd95d226a04243bab8b5104e324}{list}.free();
00087                 \}
00088 
00089         std::cout<<\textcolor{stringliteral}{" -> Sortowanie zakonczone\(\backslash\)n"};
00090         std::cout<<\textcolor{stringliteral}{" -> Zapisano do pliku log.txt\(\backslash\)n"};
00091         std::cout<<std::endl;
00092         \textcolor{keywordflow}{return} 0;
00093 \}
\end{DoxyCode}
